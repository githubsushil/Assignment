(this.webpackJsonpassignment=this.webpackJsonpassignment||[]).push([[0],{146:function(e,t,n){},152:function(e,t){},154:function(e,t){},166:function(e,t){},168:function(e,t){},195:function(e,t){},197:function(e,t){},198:function(e,t){},203:function(e,t){},205:function(e,t){},224:function(e,t){},236:function(e,t){},239:function(e,t){},271:function(e,t,n){"use strict";n.r(t);var o=n(3),i=n(0),a=n.n(i),c=n(44),s=n.n(c),r=n(28),l=(n(146),n(18)),u=n(130),d=n(131),h=n(16),j="SEARCH_MOVIE",m="FETCH_MOVIES",b="LOADING",f="SEARCHED_MOVIE",p={text:"",movies:[],loading:!1,searchedMovie:[]};var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(h.a)(Object(h.a)({},e),{},{text:t.payload,loading:!1});case m:return Object(h.a)(Object(h.a)({},e),{},{movies:t.payload,loading:!1});case b:return Object(h.a)(Object(h.a)({},e),{},{loading:!0});case f:var n=t.payload,o=e.movies.filter((function(e){return null==n||e.title.toLowerCase().includes(n.toLowerCase())||e.series.name.toLowerCase().includes(n.toLowerCase())?e:void 0}));return Object(h.a)(Object(h.a)({},e),{},{searchedMovie:o,loading:!1});default:return e}},O=Object(l.combineReducers)({movie:v}),x=[u.a],g=Object(l.createStore)(O,Object(d.composeWithDevTools)(l.applyMiddleware.apply(void 0,x))),y=n(45),M=n(46),S=n(48),C=n(47),N=n(132),w=n.n(N),L=n(133),k=n.n(L),D=function(){return function(e){var t="0adf709e7a9b552c76c9a2c1906fc142",n=(new Date).getTime(),o=w.a.MD5(n+"5c57606feda50f13debad6f1ef4e2907172d836a"+t).toString();k.a.getJSON("http://gateway.marvel.com:80/v1/public/comics",{ts:n,apikey:t,hash:o,characters:"1009718"}).done((function(t){e({type:m,payload:t.data.results})})).fail((function(e){console.log(e)}))}},E=function(e){Object(S.a)(n,e);var t=Object(C.a)(n);function n(e){var o;return Object(y.a)(this,n),(o=t.call(this,e)).onChange=function(e){o.props.searchMovie(e.target.value)},o.onSubmit=function(e){e.preventDefault(),localStorage.getItem("history")&&-1==o.state.history.indexOf(o.props.text)&&(o.state.history.unshift(o.props.text),o.state.history.length>5&&o.state.history.pop(),localStorage.history=JSON.stringify(o.state.history)),o.props.searchedMovie(o.props.text)},o.state={history:[]},o}return Object(M.a)(n,[{key:"componentDidMount",value:function(){localStorage.setItem("history",JSON.stringify(this.props.text))}},{key:"render",value:function(){return Object(o.jsx)("div",{className:"jumbotron jumbotron-fluid mt-5 text-center",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("h1",{className:"display-5 mb-3",children:[Object(o.jsx)("i",{className:"fa fa-search"})," Search for a movie ,TV series .."]}),Object(o.jsxs)("form",{id:"searchForm",onSubmit:this.onSubmit,children:[Object(o.jsx)("input",{type:"text",className:"form-control",name:"searchText",placeholder:"Search Movies, TV Series ...",onChange:this.onChange}),Object(o.jsx)("button",{type:"submit",className:"btn btn-primary btn-bg mt-3",children:"Search"})]}),Object(o.jsx)("div",{children:this.state.history?this.state.history.map((function(e,t){return Object(o.jsx)("ul",{children:Object(o.jsx)("li",{children:e})},t)})):"no history"})]})})}}]),n}(i.Component),I=Object(r.b)((function(e){return{text:e.movie.text,movies:e.movie.movies}}),{searchMovie:function(e){return function(t){t({type:j,payload:e})}},featchMovie:D,searchedMovie:function(e){return{type:f,payload:e}}})(E),T=(n(265),function(e){var t=e.movie;return Object(o.jsxs)("div",{className:"card card-body bg-dark text-center h-100",children:[Object(o.jsx)("img",{src:"".concat(t.thumbnail.path,".").concat(t.thumbnail.extension),className:"w-100 mb-2",alt:"Movie Cover"}),Object(o.jsx)("h5",{className:"text-light card-title",children:t.title})]})});var J=function(e){Object(S.a)(n,e);var t=Object(C.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(M.a)(n,[{key:"componentDidMount",value:function(){this.props.featchMovie(),this.props.setLoading()}},{key:"render",value:function(){var e=this,t=this.props,n=t.movies,i=t.searchedMovie;console.log(n);var a=n&&n.filter((function(t){return null==e.props.text||t.title.toLowerCase().includes(e.props.text.toLowerCase())||t.series.name.toLowerCase().includes(e.props.text.toLowerCase())?t:void 0})).map((function(e){return console.log("jgfjsdghjfshjjksjdklfjmudofjsl",e.characters),Object(o.jsx)("div",{className:"col-md-3 mb-4",children:Object(o.jsx)(T,{movie:e})},e.title)}));this.props.loading;return Object(o.jsx)("div",{className:"row",children:i&&i.map((function(e){return Object(o.jsx)("div",{className:"col-md-3 mb-4",children:Object(o.jsx)(T,{movie:e})},e.title)}))})}}]),n}(i.Component),V=Object(r.b)((function(e){return{text:e.movie.text,movies:e.movie.movies,loading:e.movie.loading,searchedMovie:e.movie.searchedMovie}}),{featchMovie:D,setLoading:function(){return{type:b}}})(J),A=n(74);var H=function(){return Object(o.jsx)(r.a,{store:g,children:Object(o.jsx)(A.a,{basename:"/Assignment",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(I,{}),Object(o.jsx)(V,{})]})})})};s.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(H,{})}),document.getElementById("root"))}},[[271,1,2]]]);
//# sourceMappingURL=main.2a769c81.chunk.js.map