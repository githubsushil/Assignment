(this.webpackJsonpassignment=this.webpackJsonpassignment||[]).push([[0],{147:function(e,t,n){},153:function(e,t){},155:function(e,t){},167:function(e,t){},169:function(e,t){},196:function(e,t){},198:function(e,t){},199:function(e,t){},204:function(e,t){},206:function(e,t){},225:function(e,t){},237:function(e,t){},240:function(e,t){},271:function(e,t,n){"use strict";n.r(t);var o=n(4),i=n(0),c=n.n(i),a=n(44),s=n.n(a),r=n(28),l=(n(146),n(147),n(18)),u=n(129),h=n(130),d=n(16),b="SEARCH_MOVIE",j="FETCH_MOVIES",m="LOADING",f="SEARCHED_MOVIE",v={text:"",movies:[],loading:!1,searchedMovie:[]};var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(d.a)(Object(d.a)({},e),{},{text:t.payload,loading:!1});case j:return Object(d.a)(Object(d.a)({},e),{},{movies:t.payload,loading:!1});case m:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case f:var n=t.payload,o=e.movies.filter((function(e){return null==n||e.title.toLowerCase().includes(n.toLowerCase())||e.series.name.toLowerCase().includes(n.toLowerCase())?e:void 0}));return Object(d.a)(Object(d.a)({},e),{},{searchedMovie:o,loading:!1});default:return e}},O=Object(l.combineReducers)({movie:p}),y=[u.a],x=Object(l.createStore)(O,Object(h.composeWithDevTools)(l.applyMiddleware.apply(void 0,y))),g=n(45),M=n(46),S=n(48),N=n(47),C=n(131),w=n.n(C),k=n(132),D=n.n(k),E=function(){return function(e){var t="0adf709e7a9b552c76c9a2c1906fc142",n=(new Date).getTime(),o=w.a.MD5(n+"5c57606feda50f13debad6f1ef4e2907172d836a"+t).toString();D.a.getJSON("http://gateway.marvel.com:80/v1/public/comics",{ts:n,apikey:t,hash:o,characters:"1009718"}).done((function(t){e({type:j,payload:t.data.results})})).fail((function(e){console.log(e)}))}},I=function(e){Object(S.a)(n,e);var t=Object(N.a)(n);function n(e){var o;return Object(g.a)(this,n),(o=t.call(this,e)).onChange=function(e){o.props.searchMovie(e.target.value),localStorage.setItem("history",JSON.stringify(o.props.text))},o.onSubmit=function(e){e.preventDefault(),localStorage.getItem("history")&&-1==o.state.history.indexOf(o.props.text)&&(o.state.history.unshift(o.props.text),o.state.history.length>5&&o.state.history.pop(),localStorage.history=JSON.stringify(o.state.history)),o.props.searchedMovie(o.props.text)},o.state={history:[]},o}return Object(M.a)(n,[{key:"componentDidMount",value:function(){localStorage.setItem("history",JSON.stringify(this.props.text))}},{key:"render",value:function(){return Object(o.jsx)("div",{className:"jumbotron jumbotron-fluid mt-5 text-center",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("h1",{className:"display-5 mb-3",children:[Object(o.jsx)("i",{className:"fa fa-search"})," Search for a movie ,TV series .."]}),Object(o.jsxs)("form",{id:"searchForm",onSubmit:this.onSubmit,children:[Object(o.jsx)("input",{type:"text",className:"form-control",name:"searchText",placeholder:"Search Movies, TV Series ...",onChange:this.onChange}),Object(o.jsxs)("div",{className:"bg-light p-3",children:[Object(o.jsx)("h5",{children:"Your Recent searches"}),this.state.history?this.state.history.map((function(e,t){return Object(o.jsx)("div",{className:"col-12 justify-content-start",children:Object(o.jsx)("p",{children:e})},t)})):"no history"]}),Object(o.jsx)("button",{type:"submit",className:"btn btn-primary btn-bg mt-3",children:"Search"})]})]})})}}]),n}(i.Component),L=Object(r.b)((function(e){return{text:e.movie.text,movies:e.movie.movies}}),{searchMovie:function(e){return function(t){t({type:b,payload:e})}},featchMovie:E,searchedMovie:function(e){return{type:f,payload:e}}})(I),J=function(e){var t=e.movie;return Object(o.jsxs)("div",{className:"card card-body bg-dark text-center h-100",children:[Object(o.jsx)("img",{src:"".concat(t.thumbnail.path,".").concat(t.thumbnail.extension),className:"w-100 mb-2",alt:"Movie Cover"}),Object(o.jsx)("h5",{className:"text-light card-title",children:t.title})]})},T=function(e){Object(S.a)(n,e);var t=Object(N.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(M.a)(n,[{key:"componentDidMount",value:function(){this.props.featchMovie(),this.props.setLoading()}},{key:"render",value:function(){var e=this.props,t=e.movies,n=e.searchedMovie;return console.log(t),Object(o.jsx)("div",{className:"row",children:n&&n.map((function(e){return Object(o.jsx)("div",{className:"col-md-3 mb-4",children:Object(o.jsx)(J,{movie:e})},e.title)}))})}}]),n}(i.Component),V=Object(r.b)((function(e){return{text:e.movie.text,movies:e.movie.movies,loading:e.movie.loading,searchedMovie:e.movie.searchedMovie}}),{featchMovie:E,setLoading:function(){return{type:m}}})(T),R=n(133);var A=function(){return Object(o.jsx)(r.a,{store:x,children:Object(o.jsx)(R.a,{children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(L,{}),Object(o.jsx)(V,{})]})})})};s.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(A,{})}),document.getElementById("root"))}},[[271,1,2]]]);
//# sourceMappingURL=main.5270eaea.chunk.js.map